using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.IO;
using System.Threading.Tasks;

namespace midterm_again1
{
    class Program
    {
        static void Main(string[] args)
        {
            try
            {
                StreamWriter writer = new StreamWriter("..\\..\\Inventory.txt", true);//so we know what movies are out at what time
                //StreamWriter overdue = new StreamWriter("..\\..\\OverdueAccount.txt", true);//so we know what people owe extra fees

                using (writer)
                {
                    //list of movies and prices here

                    Dictionary<string, double> movies = new Dictionary<string, double>();

                    movies.Add("Spy", 14.99);
                    movies.Add("Avengers: Age of Ultron ", 19.99);
                    movies.Add("Entourage", 9.99);
                    movies.Add("Pitch Perfect 2 ", 19.99);
                    movies.Add("Cinderella (2015)", 19.99);
                    movies.Add("Furious 7 (Extended Edition)", 9.99);
                    movies.Add("The Age of Adaline", 19.99);
                    movies.Add("Froning", 12.99);
                    movies.Add("Mad Max: Fury Road ", 9.99);
                    movies.Add("Aloha", 9.99);


                    //will show all of the options on the screen
                    foreach (KeyValuePair<string, double> option in movies)
                    {
                        Console.WriteLine(option);
                    }

                    Console.WriteLine();
                    Console.WriteLine("What movie is being taken out?");
                    string movie = Console.ReadLine();
                    var value = movies[movie];
                    movies.Remove(movie);

                    Console.ReadLine();

                    //conditional


                    Console.WriteLine("Input Customer Name");
                    string customer = Console.ReadLine();
                    //conditional

                    Console.WriteLine("Contact Info 1: ");
                    string phone = Console.ReadLine();
                    //conditional

                    Console.WriteLine("Contact Info 2: ");
                    string email = Console.ReadLine();
                    //conditional

                    DateTime day = DateTime.Now;
                    DateTime bringBack = DateTime.Now.AddDays(7);

                    Console.WriteLine("The Movie Rental is Due: " + bringBack.ToShortDateString());

                    Console.WriteLine("What day was this movie returned?");
                    DateTime returndate = DateTime.Parse(Console.ReadLine());

                    Console.WriteLine("Movie Returned On: " + returndate.ToShortDateString() + "  Movie Due Date: " + bringBack.ToShortDateString());
                    Console.ReadLine();

                    // Difference in days, hours, and minutes.
                    TimeSpan ts = bringBack - returndate;
                    // Difference in days.
                    TimeSpan differenceInDays = ts.Duration();


                    Console.WriteLine("Difference in days: {0} ", differenceInDays);
                    Console.ReadLine();


                    //movies.Add(movie);


                    //convert the date time to a string

                    //should still add price and var for late fees if late fees occur

                    //writer.WriteLine(movie + customer + phone + email + day + bringBack + returndate + differenceInDays);

                    //string[] array = new string[] { movie, customer, phone, email, day.ToShortDateString(), bringBack.ToShortDateString(), returndate.ToShortDateString(), differenceInDays.ToString() };
                    Dictionary<string, string> inventory = new Dictionary<string, string>();

                    inventory.Add("", "");
                    inventory.Add("Movie", movie);
                    inventory.Add("Customer", customer);
                    inventory.Add("Phone", phone);
                    inventory.Add("Email", email);
                    inventory.Add("Take Out Date", day.ToShortDateString());
                    inventory.Add("Return by", bringBack.ToShortDateString());
                    inventory.Add("Actual Date Returned", returndate.ToShortDateString());
                    inventory.Add("Late Fee", differenceInDays.ToString());
                    inventory.Add(" ", " ");


                    foreach (KeyValuePair<string, string> item in inventory)
                    {
                        writer.WriteLine(item.ToString());
                    }
                }
            }

            catch (Exception ex)
            {

                Console.WriteLine(ex);
                Console.ReadLine();
            }
        }
        public class MovieRental
        {
            private string customer;
            private string movie;
            private string phone;
            private string email;
            private string day;
            private string bringBack;


            public string Customer
            {

                get { return this.customer; }
                set { this.customer = value; }

            }

            public string Movie
            {

                get { return this.movie; }
                set { this.movie = value; }

            }

            public string Phone
            {

                get { return this.phone; }
                set { this.phone = value; }

            }

            public string Email
            {

                get { return this.email; }
                set { this.email = value; }

            }

            public string Day
            {

                get { return this.day; }
                set { this.day = value; }

            }
            public string Bringback
            {

                get { return this.bringBack; }
                set { this.bringBack = value; }

            }

            public MovieRental()
            {
                this.movie = "Spy";
            }

            public MovieRental(string movie)
            {
                this.movie = movie;


            }

            public void LateFee()
            {

            }
        }
    }
}
